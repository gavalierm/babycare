<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baby Care Tracker</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer" />
    <link rel="manifest" href="manifest.json">
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(registration => {
                    console.log('ServiceWorker registered');
                })
                .catch(error => {
                    console.log('ServiceWorker registration failed:', error);
                });
        }
    </script>
</head>
<body>
    <div id="breastfeeding-screen" class="screen active">
        <div class="card">
            <h1><i class="fas fa-person-breastfeeding"></i> Breast Feeding</h1>
            <div class="timeline-section">
                <div id="breastfeeding-recent" class="mini-timeline">
                    <div class="mini-timeline-item" data-slot="active">
                        <div class="time"></div>
                        <div class="pulse-dot"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="1">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="2">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="3">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="4">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="5">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="6">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                </div>
            </div>
            <div class="controls-section">
                <div class="timer" id="breastfeeding-timer">...</div>
                <div class="btn-group">
                    <button id="breastfeeding-stop" class="stop-btn">Stop</button>
                    <button id="breastfeeding-start" class="breastfeeding visible">Start</button>
                    <button id="breastfeeding-pause" class="pause-btn">Pause</button>
                </div>
            </div>
        </div>
    </div>

    <div id="bottlefeeding-screen" class="screen">
        <div class="card">
            <h1><i class="fas fa-prescription-bottle"></i> Bottle Feeding</h1>
            <div class="timeline-section">
                <div id="bottlefeeding-recent" class="mini-timeline">
                    <div class="mini-timeline-item" data-slot="active">
                        <div class="time"></div>
                        <div class="pulse-dot"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="1">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="2">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="3">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="4">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="5">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="6">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                </div>
            </div>
            <div class="controls-section">
                <div class="timer" id="bottlefeeding-timer">...</div>
                <div class="btn-group">
                    <button id="bottlefeeding-stop" class="stop-btn">Stop</button>
                    <button id="bottlefeeding-start" class="bottlefeeding visible">Start</button>
                    <button id="bottlefeeding-pause" class="pause-btn">Pause</button>
                </div>
            </div>
        </div>
    </div>

    <div id="soothing-screen" class="screen">
        <div class="card">
            <h1><i class="fas fa-moon"></i> Soothing</h1>
            <div class="timeline-section">
                <div id="soothing-recent" class="mini-timeline">
                    <div class="mini-timeline-item" data-slot="active">
                        <div class="time"></div>
                        <div class="pulse-dot"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="1">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="2">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="3">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="4">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="5">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="6">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                </div>
            </div>
            <div class="controls-section">
                <div class="timer" id="soothing-timer">...</div>
                <div class="btn-group">
                    <button id="soothing-stop" class="stop-btn">Stop</button>
                    <button id="soothing-start" class="soothing visible">Start</button>
                    <button id="soothing-pause" class="pause-btn">Pause</button>
                </div>
            </div>
        </div>
    </div>

    <div id="nappy-screen" class="screen">
        <div class="card">
            <h1><i class="fas fa-poo"></i> Nappy Change</h1>
            <div class="timeline-section">
                <div id="nappy-recent" class="mini-timeline">
                    <div class="mini-timeline-item" data-slot="active">
                        <div class="time"></div>
                        <div class="pulse-dot"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="1">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="2">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="3">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="4">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="5">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                    <div class="mini-timeline-item" data-slot="6">
                        <div class="time"></div>
                        <div class="duration"></div>
                    </div>
                </div>
            </div>
            <div class="controls-section">
                <div class="btn-group nappy-buttons">
                    <button class="nappy-pee" onclick="logNappy('pee')"><i class="fa-solid fa-water"></i></button>
                    <button class="nappy-poop" onclick="logNappy('poop')">
                        <i class="fas fa-poo"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="statistics-screen" class="screen">
        <div class="card">
            <h1><i class="fas fa-chart-line"></i> Log</h1>
            <div class="timeline-section">
                <div id="timeline" class="timeline"></div>
            </div>
        </div>
    </div>

    <div class="bottom-bar">
        <button class="nav-button active" onclick="showScreen('breastfeeding')">
            <i class="fas fa-person-breastfeeding"></i>
            <span>Breast</span>
        </button>
        <button class="nav-button" onclick="showScreen('bottlefeeding')">
            <i class="fas fa-prescription-bottle"></i>
            <span>Bottle</span>
        </button>
        <button class="nav-button" onclick="showScreen('soothing')">
            <i class="fas fa-moon"></i>
            <span>Soothing</span>
        </button>
        <button class="nav-button" onclick="showScreen('nappy')">
            <i class="fas fa-poo"></i>
            <span>Nappy</span>
        </button>
        <button class="nav-button" onclick="showScreen('statistics')">
            <i class="fas fa-chart-line"></i>
            <span>Log</span>
        </button>
    </div>

    <!-- Templates pre dynamickÃ© elementy -->
    <template id="timeline-item-template">
        <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-info">
                <strong></strong><br>
                <span class="time"></span><br>
                <span class="duration"></span>
            </div>
        </div>
    </template>

    <template id="nappy-item-template">
        <div class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-info">
                <strong></strong><br>
                <span class="time"></span>
            </div>
        </div>
    </template>

    <template id="timeline-day-template">
        <div class="timeline-day">
            <h2 class="timeline-date"></h2>
            <div class="timeline-day-items"></div>
        </div>
    </template>

    <template id="mini-timeline-active-template">
        <div class="mini-timeline-item active">
            <div class="time"></div>
            <div class="pulse-dot"></div>
            <div class="duration"></div>
        </div>
    </template>

    <template id="mini-timeline-item-template">
        <div class="mini-timeline-item">
            <div class="time"></div>
            <div class="duration"></div>
        </div>
    </template>

    <script src="script.js"></script>
</body>
</html>